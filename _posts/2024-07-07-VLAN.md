---
title: VLAN 이란?
categories: [network , server management]
tags: [network , server management]
---

서버 관리자 기초 지식으로 VLAN 이란 기술이 있어 정리 해보려고 합니다.

그 전에 먼저 OSI 7 Layer 에 대해 먼저 서술 하겠습니다.

## OSI 7 Layer

![Untitled](https://github.com/LikeLion-at-DGU/2024-simba-3-Dandelion/assets/107533165/c47b5bcd-73f3-458a-8c90-8bc12c927307)

| **계층** | **명칭**     | **설명**                                                     |
| -------- | ------------ | ------------------------------------------------------------ |
| 7        | Application  | 사용자의 데이터와 직접 상호 작용함.                          |
| 6        | Presentation | 7 계층이 사용할 수 있도록 데이터를 준비함. (데이터 변환, 암호화, 압축) |
| 5        | Session      | 통신의 시작과 종료를 담당함. (세션이라고 함)                 |
| 4        | Transport    | 외부망에서 데이터를 전송함. (WAN 환경)                       |
| 3        | Network      | 외부망에서 경로를 설정함. (WAN 환경)                         |
| 2        | Data Link    | 내부망에서 데이터를 전송함. (LAN 환경)                       |
| 1        | Physical     | 물리적(전기적) 연결. (전원 연결 상태를 말함)                 |

OSI 모델이란 개방형 시스템 상호 연결(OSI) 모델은 표준 [프로토콜](https://www.cloudflare.com/learning/network-layer/what-is-a-protocol/)을 사용하여 다양한 통신 시스템이 통신할 수 있도록 국제표준화기구에서 만든 개념 모델입니다. 표와 그림에서 볼 수 있듯 7개의 계층으로 나뉘어 있습니다. 뒤이어 서술할 VLAN 은 DATA LINK LAYER , 즉 2계층에 해당합니다.

## DATA LINK LAYER (2계층)

Data Link Layer 은 [Physical Layer](https://en.wikipedia.org/wiki/Physical_layer) 을 통해 데이터 전송, 에러 검출 및 수정, 프레임 제어 등을 담당하는 계층입니다. 해당 계층은 상위 계층으로 데이터를 전달하고 하위 계층에서 데이터를 받아옵니다. 표에서 서술했듯이 LAN(Local Area Network) 환경의 프로토콜들이 이 계층에서 동작합니다.

> Data Link Layer 에서 사용되는 프로토콜에는 ***이더넷***, ***Wi-Fi*** 등이 있습니다.
{: .prompt-tip }




## VLAN

VLAN(가상 랜, Virtual Local Area Network)은 네트워크 상에서 논리적으로 분리된 네트워크를 만드는 기술입니다. VLAN 을 이용하면 물리적으로 동일한 네트워크에 존재하는 장치들을 서로 다른 논리적 네트워크로 분리할 수 있습니다. 



조금 더 구체적으로 예시를 들어보겠습니다. 만약 3대의 서버를 설치한다고 가정하면 IP 역시 7개가 필요합니다. 하지만 VLAN 을 이용하면 하나의 공인 IP 를 여러 개의 사설 IP 로 나누어서 각 서버에 할당할 수 있습니다. 만약 공인 IP가 210.94.180.1 이라고 하면 서브넷이 192.168.1.0/24 인 사설 IP 를 각 서버에 할당하여 공인 IP 를 절약할 수 있습니다. 

만약 부서 별로 네트워크를 분리하고 싶다면 다음과 같이 할 수 있습니다.

**공인 IP (예시)** : 210.94.180.1 

**부서별 VLAN (예시)** : IT 부서 (192.168.1.0/24) , 인사 부서 (192.168.2.0/24), 재무 부서 (192.168.3.0/24)


위의 예시 처럼 하나의 공인 IP 를 사용하지만 서브넷을 다르게 설정하여 네트워크가 분리 되는 효과를 얻을 수 있습니다. 이를 **논리적 그룹화** 라고 합니다.



## 논리적그룹화

논리적 그룹화(Logical Grouping)는 VLAN을 사용하여 네트워크 장치들을 물리적 위치와 상관없이 논리적으로 그룹화하는 것을 의미합니다. 

같은 부서 간 다른 층에 위치한다고 하여도 VLAN 을 통해 논리적 그룹화를 하면 같은 네트워크를 사용할 수 있습니다.

## NAT

NAT(Network Address Translation)는 네트워크에서 IP 주소를 변환하는 기술로, 주로 사설 네트워크와 공용 네트워크 간의 통신을 가능하게 하고, IP 주소 자원의 효율적인 사용을 돕기 위해 사용됩니다. 

저희 서버실 같은 경우 방화벽에서 NAT 설정을 합니다. 따라서 외부에서 들어오는 데이터는 방화벽을 거쳐 사설 IP 로 변환 되고 이 때 변환되는 사설 IP 는 VLAN 에서 설정한 IP 가 되는 것입니다.

이와 같은 과정을 통해 IP 를 효율적으로 사용할 수 있습니다.
